function Controller(){function e(e){for(var i=0;5>i;i++)U[i].image=e>i?"./images/common/full_star.png":"./images/common/empty_star.png"}function i(i){var t;null!=i&&(t=JSON.parse(i));var a=t.filter(function(e){return e.Cocktail.id==g.id});null!=a[0]&&(I=a[0].Cocktail,e(I.rating))}function t(e){switch(e.source.star_id){case"1":x=1,c.rating_title.text="Terrible",c.star_1.image="/images/common/full_star.png",c.star_2.image="/images/common/empty_star.png",c.star_3.image="/images/common/empty_star.png",c.star_4.image="/images/common/empty_star.png",c.star_5.image="/images/common/empty_star.png";break;case"2":x=2,c.rating_title.text="Poor",c.star_1.image="/images/common/full_star.png",c.star_2.image="/images/common/full_star.png",c.star_3.image="/images/common/empty_star.png",c.star_4.image="/images/common/empty_star.png",c.star_5.image="/images/common/empty_star.png";break;case"3":x=3,c.rating_title.text="Average",c.star_1.image="/images/common/full_star.png",c.star_2.image="/images/common/full_star.png",c.star_3.image="/images/common/full_star.png",c.star_4.image="/images/common/empty_star.png",c.star_5.image="/images/common/empty_star.png";break;case"4":x=4,c.rating_title.text="Very good",c.star_1.image="/images/common/full_star.png",c.star_2.image="/images/common/full_star.png",c.star_3.image="/images/common/full_star.png",c.star_4.image="/images/common/full_star.png",c.star_5.image="/images/common/empty_star.png";break;case"5":x=5,c.rating_title.text="Excellent",c.star_1.image="/images/common/full_star.png",c.star_2.image="/images/common/full_star.png",c.star_3.image="/images/common/full_star.png",c.star_4.image="/images/common/full_star.png",c.star_5.image="/images/common/full_star.png"}}function a(){var e=Titanium.UI.createAnimation();e.bottom="-240dp",e.duration=300,e.curve=Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,c.rating_picker.animate(e)}function o(){if(0==x)Ti.UI.createAlertDialog({message:"You must click on the stars to set a rating.",ok:"Ok",title:"Rating error"}).show();else{E.push({id:I.id,rating:x}),Titanium.App.Properties.setList("ratings",E);var i=Titanium.UI.createAnimation();i.bottom="-240dp",i.duration=300,i.curve=Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,c.rating_picker.animate(i),c.rating_view.touchEnabled=!1,c.rating_cta.text=1==x?"Your rating: "+x+" star":"Your rating: "+x+" stars";var t=Ti.Network.createHTTPClient();t.open("GET",Alloy.Globals.BaseUrl+"/client/idl/perfect-mix/cocktails/cocktails/saverating/hash:35e1b0e0b9bc289cc4d14a1f63ef9263/cocktail_id:"+I.id+"/rating:"+x),t.onload=function(){Ti.API.info("Text Recieved"+this.responseText);var i=null;try{i=JSON.parse(this.responseText)}catch(t){Ti.API.info("Invalid JSON recieved from ratings")}null!=i&&(e(i.average),Alloy.Globals.Utils.updateCocktailRating(i.cocktail_id,i.average))},t.send()}}function l(){var e=Ti.UI.createEmailDialog();e.subject="Perfect Mix - Comment: "+I.title,e.toRecipients=[Alloy.Globals.ContactEmail],e.messageBody="",e.open()}function r(){if(L.length>=0){for(var e=0;L.length>e;e++)if(L[e].id==I.id)return c.fav_heart.image="./images/favs/heart_full.png",!1;c.fav_heart.image="./images/favs/heart_outline.png"}}function d(){if(Ti.API.info("Fav heart clicked "),null==L||0==L.length)L.push({id:I.id});else{for(var e=0;L.length>e;e++)if(L[e].id==I.id)return L.splice(e,1),Titanium.App.Properties.setList("favs",L),r(),!1;L.push({id:I.id})}Titanium.App.Properties.setList("favs",L),r()}function n(){var e=Alloy.Globals.windowStack.indexOf(c.cocktail_detailed);Alloy.Globals.windowStack.splice(e,1),c.cocktail_detailed.close()}function s(e){Alloy.Globals.goToHome(e)}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="cocktail_detailed",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var c=this,w={},v={};c.__views.cocktail_detailed=Ti.UI.createWindow({backgroundColor:"white",titleAttributes:{color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.MainFont,fontSize:"18dp"}},barColor:"#fff",layout:"composite",height:"568dp",width:"320dp",navBarHidden:!0,orientationModes:[Ti.UI.PORTRAIT,Ti.UI.UPSIDE_PORTRAIT],tintColor:Alloy.Globals.PrimaryColor,navTintColor:Alloy.Globals.PrimaryColor,title:"DRINK RECIPE",id:"cocktail_detailed"}),c.__views.cocktail_detailed&&c.addTopLevelView(c.__views.cocktail_detailed),c.__views.__alloyId77=Ti.UI.createView({height:"50dp",width:Ti.UI.FILL,top:"0dp",id:"__alloyId77"}),c.__views.cocktail_detailed.add(c.__views.__alloyId77),c.__views.__alloyId78=Ti.UI.createView({width:Ti.UI.FILL,height:Ti.UI.FILL,backgroundColor:"#fff",opacity:"1",id:"__alloyId78"}),c.__views.__alloyId77.add(c.__views.__alloyId78),c.__views.__alloyId79=Ti.UI.createView({width:Ti.UI.FILL,id:"__alloyId79"}),c.__views.__alloyId77.add(c.__views.__alloyId79),c.__views.__alloyId80=Ti.UI.createView({backgroundImage:"/images/icons/back.png",left:"10dp",top:"10dp",bottom:"10dp",height:"30dp",width:"30dp",id:"__alloyId80"}),c.__views.__alloyId79.add(c.__views.__alloyId80),n?c.__views.__alloyId80.addEventListener("click",n):v["$.__views.__alloyId80!click!closeWindow"]=!0,c.__views.__alloyId81=Ti.UI.createLabel({color:"#313646",font:{fontFamily:Alloy.Globals.MainFont,fontSize:"20dp"},textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,left:"50dp",right:"50dp",text:"DRINK RECIPE",id:"__alloyId81"}),c.__views.__alloyId79.add(c.__views.__alloyId81),c.__views.__alloyId82=Ti.UI.createView({backgroundImage:"/images/icons/home.png",right:"10dp",top:"10dp",bottom:"10dp",height:"30dp",width:"30dp",id:"__alloyId82"}),c.__views.__alloyId79.add(c.__views.__alloyId82),s?c.__views.__alloyId82.addEventListener("click",s):v["$.__views.__alloyId82!click!goToHome"]=!0,c.__views.__alloyId84=Ti.UI.createView({height:"1dp",width:Ti.UI.FILL,backgroundImage:"/images/common/color_sep.png",top:"50dp",id:"__alloyId84"}),c.__views.cocktail_detailed.add(c.__views.__alloyId84),c.__views.cocktail_scroll=Ti.UI.createScrollView({top:"51dp",layout:"vertical",bottom:"0dp",width:Ti.UI.FILL,height:Ti.UI.FILL,contentWidth:"auto",contentHeight:Ti.UI.SIZE,disableBounce:!0,showVerticalScrollIndicator:!0,showHorizontalScrollIndicator:!1,backgroundColor:"#efefef",id:"cocktail_scroll"}),c.__views.cocktail_detailed.add(c.__views.cocktail_scroll),c.__views.recipe_title_label=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"22dp"},top:"15dp",left:"5dp",right:"5dp",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,id:"recipe_title_label"}),c.__views.cocktail_scroll.add(c.__views.recipe_title_label),c.__views.how_to_make_it=Ti.UI.createView({left:"5dp",right:"5dp",height:Ti.UI.SIZE,backgroundColor:"#fff",borderRadius:"4dp",borderColor:"#d1d1d1",borderWidth:1,layout:"vertical",top:"10dp",id:"how_to_make_it"}),c.__views.cocktail_scroll.add(c.__views.how_to_make_it),c.__views.__alloyId86=Ti.UI.createView({height:Ti.UI.SIZE,id:"__alloyId86"}),c.__views.how_to_make_it.add(c.__views.__alloyId86),c.__views.fav_heart=Ti.UI.createImageView({top:"10dp",right:"10dp",width:"25dp",height:"25dp",id:"fav_heart",image:"./images/favs/heart_outline.png"}),c.__views.__alloyId86.add(c.__views.fav_heart),d?c.__views.fav_heart.addEventListener("click",d):v["$.__views.fav_heart!click!fav_clicked"]=!0,c.__views.__alloyId87=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"18dp"},top:"10dp",left:"5dp",right:"5dp",width:Ti.UI.FILL,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,touchEnabled:!1,text:"How to make it",id:"__alloyId87"}),c.__views.__alloyId86.add(c.__views.__alloyId87),c.__views.__alloyId88=Ti.UI.createView({height:"1",width:"140dp",backgroundColor:"#d1d1d1",bottom:"0dp",id:"__alloyId88"}),c.__views.__alloyId86.add(c.__views.__alloyId88),c.__views.__alloyId89=Ti.UI.createView({height:Ti.UI.SIZE,id:"__alloyId89"}),c.__views.how_to_make_it.add(c.__views.__alloyId89),c.__views.recipe_image_ani_view=Ti.UI.createView({left:"0dp",width:"30%",height:"240dp",top:"10dp",id:"recipe_image_ani_view"}),c.__views.__alloyId89.add(c.__views.recipe_image_ani_view),c.__views.how_to_view=Ti.UI.createView({layout:"vertical",height:Ti.UI.SIZE,width:"70%",left:"30%",top:"0dp",id:"how_to_view"}),c.__views.__alloyId89.add(c.__views.how_to_view),c.__views.cocktail_desc_container=Ti.UI.createView({id:"cocktail_desc_container",layout:"vertical",height:Ti.UI.SIZE,width:Ti.UI.FILL}),c.__views.how_to_view.add(c.__views.cocktail_desc_container),c.__views.__alloyId90=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"18dp"},top:"10dp",left:"12dp",right:"5dp",width:Ti.UI.FILL,textAlign:Ti.UI.LEFT,touchEnabled:!1,text:"Description",id:"__alloyId90"}),c.__views.cocktail_desc_container.add(c.__views.__alloyId90),c.__views.cocktail_desc=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.MainFont,fontSize:"14dp"},top:"2dp",left:"12dp",right:"5dp",textAlign:Ti.UI.LEFT,touchEnabled:!1,text:"Description",id:"cocktail_desc"}),c.__views.cocktail_desc_container.add(c.__views.cocktail_desc),c.__views.glassware_container=Ti.UI.createView({id:"glassware_container",layout:"vertical",height:Ti.UI.SIZE,width:Ti.UI.FILL}),c.__views.how_to_view.add(c.__views.glassware_container),c.__views.__alloyId91=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"18dp"},top:"10dp",left:"12dp",right:"5dp",width:Ti.UI.FILL,textAlign:Ti.UI.LEFT,touchEnabled:!1,text:"Glassware",id:"__alloyId91"}),c.__views.glassware_container.add(c.__views.__alloyId91),c.__views.glassware=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.MainFont,fontSize:"14dp"},top:"2dp",left:"12dp",right:"5dp",textAlign:Ti.UI.LEFT,touchEnabled:!1,text:"Glassware info",id:"glassware"}),c.__views.glassware_container.add(c.__views.glassware),c.__views.ingredients_container=Ti.UI.createView({id:"ingredients_container",layout:"vertical",height:Ti.UI.SIZE,width:Ti.UI.FILL}),c.__views.how_to_view.add(c.__views.ingredients_container),c.__views.__alloyId92=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"18dp"},top:"10dp",left:"12dp",right:"5dp",width:Ti.UI.FILL,textAlign:Ti.UI.LEFT,touchEnabled:!1,text:"Ingredients",id:"__alloyId92"}),c.__views.ingredients_container.add(c.__views.__alloyId92),c.__views.ingredients=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.MainFont,fontSize:"14dp"},top:"2dp",left:"12dp",right:"5dp",textAlign:Ti.UI.LEFT,touchEnabled:!1,text:"Ingredients info",id:"ingredients"}),c.__views.ingredients_container.add(c.__views.ingredients),c.__views.method_container=Ti.UI.createView({id:"method_container",layout:"vertical",height:Ti.UI.SIZE,width:Ti.UI.FILL}),c.__views.how_to_view.add(c.__views.method_container),c.__views.__alloyId93=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"18dp"},top:"10dp",left:"12dp",right:"5dp",width:Ti.UI.FILL,textAlign:Ti.UI.LEFT,touchEnabled:!1,text:"Method",id:"__alloyId93"}),c.__views.method_container.add(c.__views.__alloyId93),c.__views.method=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.MainFont,fontSize:"14dp"},top:"2dp",left:"12dp",right:"5dp",textAlign:Ti.UI.LEFT,touchEnabled:!1,text:"Method info",id:"method"}),c.__views.method_container.add(c.__views.method),c.__views.garnish_container=Ti.UI.createView({id:"garnish_container",layout:"vertical",height:Ti.UI.SIZE,width:Ti.UI.FILL}),c.__views.how_to_view.add(c.__views.garnish_container),c.__views.__alloyId94=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"18dp"},top:"10dp",left:"12dp",right:"5dp",width:Ti.UI.FILL,textAlign:Ti.UI.LEFT,touchEnabled:!1,text:"Garnish",id:"__alloyId94"}),c.__views.garnish_container.add(c.__views.__alloyId94),c.__views.garnish=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.MainFont,fontSize:"14dp"},top:"2dp",left:"12dp",right:"5dp",textAlign:Ti.UI.LEFT,touchEnabled:!1,text:"Garnish info",id:"garnish"}),c.__views.garnish_container.add(c.__views.garnish),c.__views.__alloyId95=Ti.UI.createView({height:"10dp",width:"140dp",id:"__alloyId95"}),c.__views.how_to_make_it.add(c.__views.__alloyId95),c.__views.video_container=Ti.UI.createView({left:"5dp",right:"5dp",height:Ti.UI.SIZE,backgroundColor:"#fff",borderRadius:"4dp",borderColor:"#d1d1d1",borderWidth:1,layout:"composite",top:"10dp",id:"video_container"}),c.__views.cocktail_scroll.add(c.__views.video_container),c.__views.recipe_container_bottom=Ti.UI.createView({left:"5dp",right:"5dp",height:Ti.UI.SIZE,backgroundColor:"#fff",borderRadius:"4dp",borderColor:"#d1d1d1",borderWidth:1,layout:"vertical",top:"10dp",id:"recipe_container_bottom"}),c.__views.cocktail_scroll.add(c.__views.recipe_container_bottom),c.__views.rating_container=Ti.UI.createView({id:"rating_container",layout:"vertical",width:Ti.UI.SIZE,height:Ti.UI.SIZE}),c.__views.recipe_container_bottom.add(c.__views.rating_container),c.__views.__alloyId96=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"18dp"},top:"10dp",left:"5dp",right:"5dp",width:Ti.UI.FILL,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,touchEnabled:!1,text:"Rating",id:"__alloyId96"}),c.__views.rating_container.add(c.__views.__alloyId96),c.__views.__alloyId97=Ti.UI.createView({height:"1",width:"140dp",backgroundColor:"#d1d1d1",id:"__alloyId97"}),c.__views.rating_container.add(c.__views.__alloyId97),c.__views.__alloyId98=Ti.UI.createView({layout:"vertical",height:Ti.UI.SIZE,id:"__alloyId98"}),c.__views.rating_container.add(c.__views.__alloyId98),c.__views.rating_view=Ti.UI.createView({id:"rating_view",layout:"horizontal",height:Ti.UI.SIZE,width:Ti.UI.SIZE,top:"5dp"}),c.__views.__alloyId98.add(c.__views.rating_view),c.__views.rating_cta=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.MainFont,fontSize:"14dp"},top:"5dp",left:"12dp",right:"5dp",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,touchEnabled:!1,text:"Rate this recipe",id:"rating_cta"}),c.__views.__alloyId98.add(c.__views.rating_cta),c.__views.__alloyId99=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"18dp"},top:"10dp",left:"5dp",right:"5dp",width:Ti.UI.FILL,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,touchEnabled:!1,text:"Feedback",id:"__alloyId99"}),c.__views.recipe_container_bottom.add(c.__views.__alloyId99),c.__views.__alloyId100=Ti.UI.createView({height:"1",width:"140dp",backgroundColor:"#d1d1d1",id:"__alloyId100"}),c.__views.recipe_container_bottom.add(c.__views.__alloyId100),c.__views.__alloyId101=Ti.UI.createButton({top:"10dp",color:"#ffffff",backgroundColor:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"14dp"},width:"220dp",height:"35dp",borderRadius:4,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,title:"Submit Feedback",id:"__alloyId101"}),c.__views.recipe_container_bottom.add(c.__views.__alloyId101),l?c.__views.__alloyId101.addEventListener("click",l):v["$.__views.__alloyId101!click!submitCommentBtnHandler"]=!0,c.__views.recipe_social_container=Ti.UI.createView({id:"recipe_social_container",width:Ti.UI.FILL,height:Ti.UI.SIZE,layout:"vertical"}),c.__views.recipe_container_bottom.add(c.__views.recipe_social_container),c.__views.__alloyId102=Ti.UI.createLabel({color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"18dp"},top:"10dp",left:"5dp",right:"5dp",width:Ti.UI.FILL,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,touchEnabled:!1,text:"Social",id:"__alloyId102"}),c.__views.recipe_social_container.add(c.__views.__alloyId102),c.__views.__alloyId103=Ti.UI.createView({height:"1",width:"140dp",backgroundColor:"#d1d1d1",id:"__alloyId103"}),c.__views.recipe_social_container.add(c.__views.__alloyId103),c.__views.social_hor_view_recipe=Ti.UI.createView({layout:"horizontal",id:"social_hor_view_recipe",width:Ti.UI.SIZE,height:Ti.UI.SIZE,top:"10dp"}),c.__views.recipe_social_container.add(c.__views.social_hor_view_recipe),c.__views.twitterParent_recipe=Ti.UI.createView({width:Ti.UI.SIZE,height:Ti.UI.SIZE,id:"twitterParent_recipe"}),c.__views.social_hor_view_recipe.add(c.__views.twitterParent_recipe),c.__views.twitterBtn_cocktailDeet=Ti.UI.createLabel({width:"105dp",height:"34dp",backgroundColor:"transparent",borderRadius:"2dp",font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"14dp"},color:"#fff",tintColor:"#fff",backgroundGradient:{type:"linear",startPoint:{x:"50%",y:"0%"},endPoint:{x:"50%",y:"100%"},colors:[{color:"#6db3e1",offset:0},{color:"#428ecf",offset:1}]},id:"twitterBtn_cocktailDeet"}),c.__views.twitterParent_recipe.add(c.__views.twitterBtn_cocktailDeet),c.__views.facebookParent_recipe=Ti.UI.createView({width:Ti.UI.SIZE,height:Ti.UI.SIZE,id:"facebookParent_recipe"}),c.__views.social_hor_view_recipe.add(c.__views.facebookParent_recipe),c.__views.facebookBtn_cocktailDeet=Ti.UI.createLabel({width:"105dp",height:"34dp",backgroundColor:"transparent",borderRadius:"2dp",font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"14dp"},color:"#fff",tintColor:"#fff",backgroundGradient:{type:"linear",startPoint:{x:"50%",y:"0%"},endPoint:{x:"50%",y:"100%"},colors:[{color:"#4b69a5",offset:0},{color:"#253d7d",offset:1}]},left:"30dp",id:"facebookBtn_cocktailDeet"}),c.__views.facebookParent_recipe.add(c.__views.facebookBtn_cocktailDeet),c.__views.__alloyId104=Ti.UI.createView({height:"10dp",width:"140dp",id:"__alloyId104"}),c.__views.recipe_container_bottom.add(c.__views.__alloyId104),c.__views.__alloyId105=Ti.UI.createView({height:"10dp",width:"140dp",id:"__alloyId105"}),c.__views.cocktail_scroll.add(c.__views.__alloyId105),c.__views.rating_picker=Ti.UI.createView({height:"240dp",bottom:"-240dp",width:Ti.UI.FILL,backgroundColor:"#fff",id:"rating_picker"}),c.__views.cocktail_detailed.add(c.__views.rating_picker),c.__views.__alloyId106=Ti.UI.createView({layout:"vertical",top:"0dp",height:Ti.UI.SIZE,id:"__alloyId106"}),c.__views.rating_picker.add(c.__views.__alloyId106),c.__views.__alloyId107=Ti.UI.createButton({height:"40dp",backgroundColor:"#eee",borderRadius:0,borderColor:"#898989",borderWidth:1,width:Ti.UI.FILL,color:Alloy.Globals.PrimaryColor,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,font:{fontSize:"16dp",fontFamily:Alloy.Globals.BoldFont},title:"TAP TO CLOSE",id:"__alloyId107"}),c.__views.__alloyId106.add(c.__views.__alloyId107),a?c.__views.__alloyId107.addEventListener("click",a):v["$.__views.__alloyId107!click!closeRatingHandler"]=!0,c.__views.rating_title=Ti.UI.createLabel({top:"30dp",color:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.MainFont,fontSize:"18dp"},text:"Tap a star to rate",id:"rating_title",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER}),c.__views.__alloyId106.add(c.__views.rating_title),c.__views.__alloyId110=Ti.UI.createView({layout:"horizontal",height:Ti.UI.SIZE,width:Ti.UI.SIZE,top:"20dp",bottom:"20dp",id:"__alloyId110"}),c.__views.__alloyId106.add(c.__views.__alloyId110),c.__views.star_1=Ti.UI.createImageView({left:"4dp",right:"4dp",width:"25dp",id:"star_1",image:"./images/common/empty_star.png",star_id:"1"}),c.__views.__alloyId110.add(c.__views.star_1),t?c.__views.star_1.addEventListener("click",t):v["$.__views.star_1!click!star_clicked"]=!0,c.__views.star_2=Ti.UI.createImageView({left:"4dp",right:"4dp",width:"25dp",id:"star_2",image:"./images/common/empty_star.png",star_id:"2"}),c.__views.__alloyId110.add(c.__views.star_2),t?c.__views.star_2.addEventListener("click",t):v["$.__views.star_2!click!star_clicked"]=!0,c.__views.star_3=Ti.UI.createImageView({left:"4dp",right:"4dp",width:"25dp",id:"star_3",image:"./images/common/empty_star.png",star_id:"3"}),c.__views.__alloyId110.add(c.__views.star_3),t?c.__views.star_3.addEventListener("click",t):v["$.__views.star_3!click!star_clicked"]=!0,c.__views.star_4=Ti.UI.createImageView({left:"4dp",right:"4dp",width:"25dp",id:"star_4",image:"./images/common/empty_star.png",star_id:"4"}),c.__views.__alloyId110.add(c.__views.star_4),t?c.__views.star_4.addEventListener("click",t):v["$.__views.star_4!click!star_clicked"]=!0,c.__views.star_5=Ti.UI.createImageView({left:"4dp",right:"4dp",width:"25dp",id:"star_5",image:"./images/common/empty_star.png",star_id:"5"}),c.__views.__alloyId110.add(c.__views.star_5),t?c.__views.star_5.addEventListener("click",t):v["$.__views.star_5!click!star_clicked"]=!0,c.__views.__alloyId111=Ti.UI.createButton({top:"10dp",color:"#ffffff",backgroundColor:Alloy.Globals.PrimaryColor,font:{fontFamily:Alloy.Globals.BoldFont,fontSize:"14dp"},width:"220dp",height:"35dp",borderRadius:4,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,title:"Submit Rating",id:"__alloyId111"}),c.__views.__alloyId106.add(c.__views.__alloyId111),o?c.__views.__alloyId111.addEventListener("click",o):v["$.__views.__alloyId111!click!submitRatingBtnHandler"]=!0,w.destroy=function(){},_.extend(c,c.__views);var g=arguments[0]||{},I=g||"Category not received";if(c.recipe_title_label.text=I.title,c.recipe_container_bottom.remove(c.rating_container),null!=I.glass&&""!=I.glass){for(var p="",m=0;I.glass.length>m;m++)p+="• "+I.glass[m].Glass.title+"\n";c.glassware.text=p}else c.how_to_view.remove(c.glassware_container);if(null!=I.description&&""!=I.description?c.cocktail_desc.text=I.description:c.how_to_view.remove(c.cocktail_desc_container),null!=I.ingredients&&""!=I.ingredients){var h=I.ingredients.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n");c.ingredients.text="";for(var m=0;h.length>m;m++)c.ingredients.text+="• "+h[m]+"\r\n"}else c.how_to_view.remove(c.ingredients_container);if(null!=I.method&&""!=I.method){var y=I.method.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n");c.method.text="";for(var m=0;y.length>m;m++)c.method.text+="• "+y[m]+"\r\n"}else c.how_to_view.remove(c.method_container);if(null!=I.garnish&&""!=I.garnish){c.garnish.text=I.garnish;var f=I.garnish.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n");c.garnish.text="";for(var m=0;f.length>m;m++)c.garnish.text+="• "+f[m]+"\r\n"}else c.how_to_view.remove(c.garnish_container);if(null!=I.video&&""!=I.video){var T,T,T=Alloy.Globals.Utils.RemoteImage({image:"http://img.youtube.com/vi/"+I.video+"/hqdefault.jpg",defaultImage:"images/cocktails/glass.png",checkRetina:!1,width:Ti.UI.FILL,top:0});c.video_container.add(T),c.video_container.addEventListener("click",function(){var e=Titanium.UI.createAnimation();e.bottom="-240dp",e.duration=300,e.curve=Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,c.rating_picker.animate(e),Alloy.createWidget("ytPlayer").play(I.video)});var k=Ti.UI.createImageView();k.image="./images/common/play_btn.png",k.touchEnabled=!1,c.video_container.add(k),k.width=Ti.UI.SIZE,k.height=Ti.UI.SIZE}else c.cocktail_scroll.remove(c.video_container);var b=!1;null==I.facebook||""==I.facebook?c.social_hor_view_recipe.remove(c.facebookParent_recipe):(b=!0,c.facebookBtn_cocktailDeet.html='<a href="http://www.facebook.com/'+I.facebook+'" target="_blank"><div style="height:30px;"><img src="./images/icons/facebookIcon@2x.png" style="width:20px;height:25px;left:3px;"><span style="color:#fff;font-size:16px;line-height:30px;height:30px !important;vertical-align:top;">Facebook</span></div></a>'),null==I.twitter||""==I.twitter?c.social_hor_view_recipe.remove(c.twitterParent_recipe):(b=!0,c.twitterBtn_cocktailDeet.html='<a href="http://twitter.com/'+I.twitter+'" target="_blank"><div style="height:30px;"><img src="./images/icons/twitterbird@2x.png" style="width:25px;height:20px;top:5px;left:5px;"><span style="color:#fff;font-size:16px;line-height:30px;height:30px !important;vertical-align:top;">Twitter</span></div></a>'),b||c.recipe_container_bottom.remove(c.recipe_social_container);for(var u=c.createStyle({classes:["star_icon"]}),U=new Array,m=0;5>m;m++)U[m]=Ti.UI.createImageView(),U[m].image="./images/common/empty_star.png",U[m].touchEnabled=!1,U[m].applyProperties(u),c.rating_view.add(U[m]);Alloy.Globals.Utils.GetAppData("/client/idl/perfect-mix/cocktails/cocktails/viewjson","data/Cocktails.txt",i);var E=Titanium.App.Properties.getList("ratings",new Array),L=Titanium.App.Properties.getList("favs",new Array);if(null==E||0==E.length)c.rating_view.addEventListener("click",function(){var e=Titanium.UI.createAnimation();e.bottom="0dp",e.duration=300,e.curve=Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,c.rating_picker.animate(e)});else if(E.length>0){for(var A=!0,m=0;E.length>m;m++)E[m].id==I.id&&(c.rating_cta.text=1==E[m].rating?"Your rating: "+E[m].rating+" star":"Your rating: "+E[m].rating+" stars",A=!1);A&&c.rating_view.addEventListener("click",function(){var e=Titanium.UI.createAnimation();e.bottom="0dp",e.duration=300,e.curve=Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,c.rating_picker.animate(e)})}var x=0;r(),c.cocktail_detailed.addEventListener("close",function(){}),c.cocktail_detailed.addEventListener("open",function(){Alloy.Globals.windowStack.push(c.cocktail_detailed);var e=Titanium.UI.createAnimation();e.left="0dp",e.duration=700,e.curve=Ti.UI.ANIMATION_CURVE_EASE_IN_OUT;try{var i=Alloy.Globals.Utils.RemoteImage({image:I.image,defaultImage:"images/cocktails/glass.png",height:Ti.UI.FILL,width:Ti.UI.FILL});c.recipe_image_ani_view.add(i)}catch(t){Ti.API.info("image drawing error: "+t.toString)}setTimeout(function(){c.recipe_image_ani_view.animate(e)},700)}),c.cocktail_detailed.addEventListener("androidback",function(){c.cocktail_detailed.close({activityEnterAnimation:Ti.App.Android.R.anim.slide_in_left,activityExitAnimation:Ti.App.Android.R.anim.slide_out_right});var e=Alloy.Globals.windowStack.indexOf(c.cocktail_detailed);Alloy.Globals.windowStack.splice(e,1)}),v["$.__views.__alloyId74!click!closeWindow"]&&c.__views.__alloyId74.addEventListener("click",n),v["$.__views.__alloyId76!click!goToHome"]&&c.__views.__alloyId76.addEventListener("click",s),v["$.__views.__alloyId80!click!closeWindow"]&&c.__views.__alloyId80.addEventListener("click",n),v["$.__views.__alloyId82!click!goToHome"]&&c.__views.__alloyId82.addEventListener("click",s),v["$.__views.fav_heart!click!fav_clicked"]&&c.__views.fav_heart.addEventListener("click",d),v["$.__views.fav_heart!click!fav_clicked"]&&c.__views.fav_heart.addEventListener("click",d),v["$.__views.fav_heart!click!fav_clicked"]&&c.__views.fav_heart.addEventListener("click",d),v["$.__views.__alloyId101!click!submitCommentBtnHandler"]&&c.__views.__alloyId101.addEventListener("click",l),v["$.__views.__alloyId107!click!closeRatingHandler"]&&c.__views.__alloyId107.addEventListener("click",a),v["$.__views.star_1!click!star_clicked"]&&c.__views.star_1.addEventListener("click",t),v["$.__views.star_2!click!star_clicked"]&&c.__views.star_2.addEventListener("click",t),v["$.__views.star_3!click!star_clicked"]&&c.__views.star_3.addEventListener("click",t),v["$.__views.star_4!click!star_clicked"]&&c.__views.star_4.addEventListener("click",t),v["$.__views.star_5!click!star_clicked"]&&c.__views.star_5.addEventListener("click",t),v["$.__views.star_1!click!star_clicked"]&&c.__views.star_1.addEventListener("click",t),v["$.__views.star_2!click!star_clicked"]&&c.__views.star_2.addEventListener("click",t),v["$.__views.star_3!click!star_clicked"]&&c.__views.star_3.addEventListener("click",t),v["$.__views.star_4!click!star_clicked"]&&c.__views.star_4.addEventListener("click",t),v["$.__views.star_5!click!star_clicked"]&&c.__views.star_5.addEventListener("click",t),v["$.__views.star_1!click!star_clicked"]&&c.__views.star_1.addEventListener("click",t),v["$.__views.star_2!click!star_clicked"]&&c.__views.star_2.addEventListener("click",t),v["$.__views.star_3!click!star_clicked"]&&c.__views.star_3.addEventListener("click",t),v["$.__views.star_4!click!star_clicked"]&&c.__views.star_4.addEventListener("click",t),v["$.__views.star_5!click!star_clicked"]&&c.__views.star_5.addEventListener("click",t),v["$.__views.__alloyId111!click!submitRatingBtnHandler"]&&c.__views.__alloyId111.addEventListener("click",o),v["$.__views.__alloyId113!click!goToHome"]&&c.__views.__alloyId113.addEventListener("click",s),v["$.__views.__alloyId115!click!closeWindow"]&&c.__views.__alloyId115.addEventListener("click",n),_.extend(c,w)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;
define(["Ti/_","Ti/_/declare","Ti/_/Evented"],function(t,i,n){return i("Ti.Blob",n,{constructor:function(t){t=t||{},this._data=t.data||""},postscript:function(){var i,n=this.mimeType,e=this.__values__.constants;(this._isBinary=t.isBinaryMimeType(n))&&(e.size=e.length),n.indexOf("image/")||(i=new Image,require.on.once(i,"load",function(){e.width=i.width,e.height=i.height}),i.src=this.toString())},append:function(t){t&&(this._data=(this._data||"")+t.toString())},toString:function(){return(this._isBinary?"data:"+this.mimeType+";base64,":"")+(this._data||"")},constants:{file:null,height:0,length:0,mimeType:"",nativePath:null,size:0,text:function(){return this._isBinary?null:this._data||""},width:0}})});
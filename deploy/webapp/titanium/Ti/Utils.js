define(["Ti/_/encoding","Ti/_/Evented","Ti/_/lang","Ti/Blob"],function(n,t,r,e){function u(n,t){for(var r=[],e=0,u=8*n.length;u>e;e+=8)r[e>>5]|=(255&n.charCodeAt(e/8))<<(t?t-e:e)%32;return r}function o(n,t){for(var r="0123456789abcdef",e=0,u=4*n.length,o=[];u>e;e++)o.push(r.charAt(n[e>>2]>>(t?t-e:e)%4*8+4&15)+r.charAt(n[e>>2]>>(t?t-e:e)%4*8&15));return o.join("")}function i(n,t){return n=u(n,24),n[t>>5]|=128<<24-t%32,n[(t+64>>9<<4)+15]=t,n}function a(n,t){var r=(65535&n)+(65535&t),e=(n>>16)+(t>>16)+(r>>16);return e<<16|65535&r}function c(n,t){return n<<t|n>>>32-t}function f(n,t,r,e,u,o){return a(c(a(a(t,n),a(e,o)),u),r)}function d(n,t,r,e,u,o,i){return f(t&r|~t&e,n,t,u,o,i)}function h(n,t,r,e,u,o,i){return f(t&e|r&~e,n,t,u,o,i)}function l(n,t,r,e,u,o,i){return f(t^r^e,n,t,u,o,i)}function s(n,t,r,e,u,o,i){return f(r^(t|~e),n,t,u,o,i)}function g(n,t,r,e){return 20>n?t&r|~t&e:40>n?t^r^e:60>n?t&r|t&e|r&e:t^r^e}function v(n){return 20>n?1518500249:40>n?1859775393:60>n?-1894007588:-899497514}function _(n,t){return n>>>t|n<<32-t}function b(n){return _(n,7)^_(n,18)^n>>>3}function T(n){return _(n,17)^_(n,19)^n>>>10}function y(n){return n&&"Ti.Blob"===n.declaredClass}function A(t){return atob(n.utf8encode(t))}function B(n){return y(n)?n._isBinary?A(n._data):n._data:n}var w=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];return r.setObject("Ti.Utils",t,{base64decode:function(n){return y(n)&&n._isBinary?n:new e({data:A(n._data||n)})},base64encode:function(t){return y(t)&&t._isBinary?t:new e({data:n.utf8decode(btoa(t._data||t))})},md5HexDigest:function(t){var r,t=n.utf8encode(B(t)),e=8*t.length,i=1732584193,c=-271733879,f=-1732584194,g=271733878,v=0;for(t=u(t),t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e,r=t.length;r>v;v+=16){var _=i,b=c,T=f,y=g;i=d(i,c,f,g,t[v+0],7,-680876936),g=d(g,i,c,f,t[v+1],12,-389564586),f=d(f,g,i,c,t[v+2],17,606105819),c=d(c,f,g,i,t[v+3],22,-1044525330),i=d(i,c,f,g,t[v+4],7,-176418897),g=d(g,i,c,f,t[v+5],12,1200080426),f=d(f,g,i,c,t[v+6],17,-1473231341),c=d(c,f,g,i,t[v+7],22,-45705983),i=d(i,c,f,g,t[v+8],7,1770035416),g=d(g,i,c,f,t[v+9],12,-1958414417),f=d(f,g,i,c,t[v+10],17,-42063),c=d(c,f,g,i,t[v+11],22,-1990404162),i=d(i,c,f,g,t[v+12],7,1804603682),g=d(g,i,c,f,t[v+13],12,-40341101),f=d(f,g,i,c,t[v+14],17,-1502002290),c=d(c,f,g,i,t[v+15],22,1236535329),i=h(i,c,f,g,t[v+1],5,-165796510),g=h(g,i,c,f,t[v+6],9,-1069501632),f=h(f,g,i,c,t[v+11],14,643717713),c=h(c,f,g,i,t[v+0],20,-373897302),i=h(i,c,f,g,t[v+5],5,-701558691),g=h(g,i,c,f,t[v+10],9,38016083),f=h(f,g,i,c,t[v+15],14,-660478335),c=h(c,f,g,i,t[v+4],20,-405537848),i=h(i,c,f,g,t[v+9],5,568446438),g=h(g,i,c,f,t[v+14],9,-1019803690),f=h(f,g,i,c,t[v+3],14,-187363961),c=h(c,f,g,i,t[v+8],20,1163531501),i=h(i,c,f,g,t[v+13],5,-1444681467),g=h(g,i,c,f,t[v+2],9,-51403784),f=h(f,g,i,c,t[v+7],14,1735328473),c=h(c,f,g,i,t[v+12],20,-1926607734),i=l(i,c,f,g,t[v+5],4,-378558),g=l(g,i,c,f,t[v+8],11,-2022574463),f=l(f,g,i,c,t[v+11],16,1839030562),c=l(c,f,g,i,t[v+14],23,-35309556),i=l(i,c,f,g,t[v+1],4,-1530992060),g=l(g,i,c,f,t[v+4],11,1272893353),f=l(f,g,i,c,t[v+7],16,-155497632),c=l(c,f,g,i,t[v+10],23,-1094730640),i=l(i,c,f,g,t[v+13],4,681279174),g=l(g,i,c,f,t[v+0],11,-358537222),f=l(f,g,i,c,t[v+3],16,-722521979),c=l(c,f,g,i,t[v+6],23,76029189),i=l(i,c,f,g,t[v+9],4,-640364487),g=l(g,i,c,f,t[v+12],11,-421815835),f=l(f,g,i,c,t[v+15],16,530742520),c=l(c,f,g,i,t[v+2],23,-995338651),i=s(i,c,f,g,t[v+0],6,-198630844),g=s(g,i,c,f,t[v+7],10,1126891415),f=s(f,g,i,c,t[v+14],15,-1416354905),c=s(c,f,g,i,t[v+5],21,-57434055),i=s(i,c,f,g,t[v+12],6,1700485571),g=s(g,i,c,f,t[v+3],10,-1894986606),f=s(f,g,i,c,t[v+10],15,-1051523),c=s(c,f,g,i,t[v+1],21,-2054922799),i=s(i,c,f,g,t[v+8],6,1873313359),g=s(g,i,c,f,t[v+15],10,-30611744),f=s(f,g,i,c,t[v+6],15,-1560198380),c=s(c,f,g,i,t[v+13],21,1309151649),i=s(i,c,f,g,t[v+4],6,-145523070),g=s(g,i,c,f,t[v+11],10,-1120210379),f=s(f,g,i,c,t[v+2],15,718787259),c=s(c,f,g,i,t[v+9],21,-343485551),i=a(i,_),c=a(c,b),f=a(f,T),g=a(g,y)}return o([i,c,f,g])},sha1:function(t){var r,e,u,t=n.utf8encode(B(t)),f=1732584193,d=-271733879,h=-1732584194,l=271733878,s=-1009589776,_=0,b=new Array(80);for(t=i(t,8*t.length),u=t.length;u>_;_+=16){var T=f,y=d,A=h,w=l,j=s;for(r=0;80>r;r++)b[r]=16>r?t[_+r]:c(b[r-3]^b[r-8]^b[r-14]^b[r-16],1),e=a(a(c(f,5),g(r,d,h,l)),a(a(s,b[r]),v(r))),s=l,l=h,h=c(d,30),d=f,f=e;f=a(f,T),d=a(d,y),h=a(h,A),l=a(l,w),s=a(s,j)}return o([f,d,h,l,s],3)},sha256:function(t){var r,e,u,c,t=n.utf8encode(B(t)),f=1779033703,d=-1150833019,h=1013904242,l=-1521486534,s=1359893119,g=-1694144372,v=528734635,y=1541459225,A=0,j=new Array(64);for(t=i(t,8*t.length),e=t.length;e>A;A+=16){var C=f,m=d,p=h,x=l,D=s,E=g,H=v,O=y;for(r=0;64>r;r++)j[r]=16>r?t[A+r]:a(a(a(T(j[r-2]),j[r-7]),b(j[r-15])),j[r-16]),u=a(a(a(a(y,_(s,6)^_(s,11)^_(s,25)),s&g^~s&v),w[r]),j[r]),c=a(_(f,2)^_(f,13)^_(f,22),f&d^f&h^d&h),y=v,v=g,g=s,s=a(l,u),l=h,h=d,d=f,f=a(u,c);f=a(f,C),d=a(d,m),h=a(h,p),l=a(l,x),s=a(s,D),g=a(g,E),v=a(v,H),y=a(y,O)}return o([f,d,h,l,s,g,v,y],3)}})});